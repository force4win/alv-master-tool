/* --- THEME DEFINITIONS --- */
.root {
    /* --- NORDIC NIGHT (Dark / Default) --- */
    -color-bg-base: #2E3440;
    -color-bg-card: #3B4252;
    -color-bg-sidebar: #242933;
    -color-text-primary: #ECEFF4;
    -color-text-secondary: #D8DEE9;
    -color-text-muted: #4C566A;

    -color-accent: #88C0D0;
    /* Frost Blue */
    -color-accent-dark: #5E81AC;
    /* Cobalt */

    -color-success: #A3BE8C;
    -color-success-hover: #B5D29C;
    -color-danger: #BF616A;
    -color-danger-hover: #D08770;

    -color-input-bg: #3B4252;
    -color-input-border: #4C566A;

    -fx-base: -color-bg-base;
    -fx-background-color: -color-bg-base;
    -fx-font-family: 'Segoe UI', 'Roboto', sans-serif;
    -fx-text-fill: -color-text-primary;
}

.root.light-theme {
    /* --- NORDIC SNOW (Light) --- */
    -color-bg-base: #ECEFF4;
    -color-bg-card: #FFFFFF;
    -color-bg-sidebar: #E5E9F0;
    -color-text-primary: #2E3440;
    -color-text-secondary: #3B4252;
    -color-text-muted: #9499A6;
    /* Ajustado para mejor contraste */

    -color-accent: #2E3440;
    /* Dark for high contrast headers */
    -color-accent-dark: #5E81AC;
    /* Cobalt stays */

    -color-success: #A3BE8C;
    /* Keep greens */
    -color-success-hover: #8FBCBB;
    -color-danger: #BF616A;
    -color-danger-hover: #D08770;

    -color-input-bg: #FFFFFF;
    -color-input-border: #D8DEE9;
}

/* --- TEMA KIDS: "Cartoon Playground" --- */
.root.kids-theme {
    /* Paleta "Playtime" */
    -color-bg-base: #FFF8E1;
    /* Crema vainilla cálido */
    -color-bg-card: #FFFFFF;
    -color-bg-sidebar: #FFECB3;
    /* Amarillo pastel */

    -color-text-primary: #37474F;
    /* Azul grisáceo oscuro */
    -color-text-secondary: #0277BD;
    /* Azul profundo */
    -color-text-muted: #90A4AE;

    -color-accent: #FF9800;
    /* Naranja Juguete */
    -color-accent-dark: #F57C00;

    -color-success: #76FF03;
    /* Verde Slime */
    -color-success-hover: #64DD17;

    -color-danger: #FF4081;
    /* Rosa Chicle intenso */
    -color-danger-hover: #F50057;

    -color-input-bg: #FFFFFF;
    -color-input-border: #4FC3F7;
    /* Borde Azul Cielo */

    /* Tipografía Juguetona */
    -fx-font-family: 'Comic Sans MS', 'Verdana', sans-serif;
    -fx-font-size: 16px;
}

/* --- OVERRIDES ESPECIFICOS PARA KIDS THEME (Formas y Efectos) --- */

/* Botones con efecto 3D "Pop" */
.root.kids-theme .button {
    -fx-background-radius: 25;
    -fx-border-radius: 25;
    -fx-border-width: 0 0 4 0;
    /* Borde inferior grueso para efecto 3d */
    -fx-border-color: rgba(0, 0, 0, 0.2);
    -fx-cursor: hand;
    -fx-effect: none;
    /* Quitamos sombras difusas default */
    -fx-font-weight: bold;
}

.root.kids-theme .button:pressed {
    -fx-translate-y: 2;
    /* Se hunde al clickear */
    -fx-border-width: 0 0 0 0;
    -fx-background-insets: 2 0 0 0;
}

.root.kids-theme .button-secondary {
    -fx-border-width: 2;
    -fx-border-style: dashed;
    /* Bordes punteados estilo recorte */
    -fx-border-color: -color-text-primary;
    -fx-background-color: transparent;
    -fx-text-fill: -color-text-primary;
}

/* Inputs estilo "Bocadillo de comic" */
.root.kids-theme .text-field,
.root.kids-theme .password-field,
.root.kids-theme .date-picker .text-field {
    -fx-background-radius: 15;
    -fx-border-radius: 15;
    -fx-border-width: 3;
    -fx-border-color: -color-input-border;
    -fx-effect: none;
}

.root.kids-theme .text-field:focused {
    -fx-border-color: -color-accent;
}

/* Tarjetas con borde grueso tipo Sticker */
.root.kids-theme .card {
    -fx-background-radius: 20;
    -fx-border-color: #E0E0E0;
    -fx-border-width: 3;
    -fx-border-radius: 18;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.1), 0, 0, 4, 4);
    /* Sombra sólida desplazada */
}

/* Tabla más amigable */
.root.kids-theme .table-view .column-header-background {
    -fx-background-color: -color-accent;
    -fx-background-radius: 15 15 0 0;
}

.root.kids-theme .table-view .column-header .label {
    -fx-text-fill: white;
}

.root.kids-theme .table-row-cell {
    -fx-background-radius: 10;
    -fx-border-width: 0 0 2 0;
    -fx-border-color: #EEEEEE;
}
}

/* --- LABELS --- */
.label {
    -fx-text-fill: -color-text-primary;
    -fx-font-size: 14px;
}

.header-label {
    -fx-font-size: 24px;
    -fx-font-weight: bold;
    -fx-text-fill: -color-accent;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.1), 3, 0, 0, 0);
}

.sub-header-label {
    -fx-font-size: 18px;
    -fx-font-weight: bold;
    -fx-text-fill: -color-text-secondary;
}

/* --- BUTTONS --- */
.button {
    -fx-background-color: -color-accent-dark;
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-background-radius: 4;
    -fx-padding: 8 16;
    -fx-cursor: hand;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.1), 3, 0, 0, 1);
    -fx-transition: all 0.2s;
}

.button:hover {
    -fx-background-color: derive(-color-accent-dark, 20%);
    -fx-scale-x: 1.02;
    -fx-scale-y: 1.02;
}

.button-secondary {
    -fx-background-color: transparent;
    -fx-border-color: -color-accent-dark;
    -fx-border-width: 1;
    -fx-border-radius: 4;
    -fx-text-fill: -color-accent-dark;
}

.button-secondary:hover {
    -fx-background-color: rgba(94, 129, 172, 0.1);
    -fx-border-color: derive(-color-accent-dark, 20%);
    -fx-text-fill: -color-text-primary;
}

.button-success {
    -fx-background-color: -color-success;
    -fx-text-fill: #2E3440;
}

.button-success:hover {
    -fx-background-color: -color-success-hover;
}

.button-danger {
    -fx-background-color: -color-danger;
    -fx-text-fill: white;
}

.button-danger:hover {
    -fx-background-color: -color-danger-hover;
}

/* --- TEXT FIELDS --- */
.text-field,
.password-field {
    -fx-background-color: -color-input-bg;
    -fx-text-fill: -color-text-primary;
    -fx-prompt-text-fill: -color-text-muted;
    -fx-background-radius: 4;
    -fx-border-color: -color-input-border;
    -fx-border-radius: 4;
    -fx-border-width: 1;
}

.text-field:focused,
.password-field:focused {
    -fx-border-color: -color-accent;
    -fx-background-color: derive(-color-input-bg, -5%);
}

/* --- CHECKBOX --- */
.check-box .box {
    -fx-background-color: -color-input-bg;
    -fx-border-color: -color-input-border;
    -fx-border-radius: 3;
}

.check-box:selected .mark {
    -fx-background-color: -color-accent;
}

/* --- TEMA MATRIX: "The Code" --- */
.root.matrix-theme {
    /* Paleta Hacker Console */
    -color-bg-base: #0D0D0D;
    /* Almost Black */
    -color-bg-card: #000000;
    /* Pure Black */
    -color-bg-sidebar: #111111;

    -color-text-primary: #00FF41;
    /* Iconic Matrix Bright Green */
    -color-text-secondary: #008F11;
    /* Darker Green */
    -color-text-muted: #003B00;
    /* Very Dark Green */

    -color-accent: #00FF41;
    -color-accent-dark: #008F11;

    -color-success: #00FF41;
    -color-success-hover: #FFFFFF;
    /* Flash white on success hover */

    -color-danger: #FF0000;
    /* System Error Red */
    -color-danger-hover: #8B0000;

    -color-input-bg: #000000;
    -color-input-border: #008F11;

    /* Terminal Font */
    -fx-font-family: 'Consolas', 'Courier New', 'Monospaced';
    -fx-font-size: 14px;
}

/* --- OVERRIDES ESPECIFICOS PARA MATRIX THEME --- */

/* Botones estilo Terminal */
.root.matrix-theme .button {
    -fx-background-color: black;
    -fx-border-color: -color-accent;
    -fx-border-width: 1;
    -fx-border-radius: 0;
    -fx-background-radius: 0;
    -fx-text-fill: -color-accent;
    -fx-font-family: 'Consolas', 'Monospaced';
    -fx-effect: dropshadow(three-pass-box, rgba(0, 255, 65, 0.4), 10, 0, 0, 0);
    /* Green Glow */
}

.root.matrix-theme .button:hover {
    -fx-background-color: -color-accent;
    -fx-text-fill: black;
    -fx-cursor: hand;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 255, 65, 0.8), 15, 0, 0, 0);
}

.root.matrix-theme .button-secondary {
    -fx-border-style: dotted;
}

/* Inputs Terminal */
.root.matrix-theme .text-field,
.root.matrix-theme .password-field,
.root.matrix-theme .date-picker .text-field {
    -fx-background-radius: 0;
    -fx-border-radius: 0;
    -fx-border-width: 1;
    -fx-prompt-text-fill: -color-text-muted;
}

.root.matrix-theme .text-field:focused {
    -fx-background-color: #001100;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 255, 65, 0.8), 10, 0, 0, 0);
}

/* Tarjetas Minimalistas */
.root.matrix-theme .card {
    -fx-background-radius: 0;
    -fx-border-color: -color-text-muted;
    -fx-border-width: 1;
    -fx-effect: none;
}

/* Tabla Datos Puros */
.root.matrix-theme .table-view .column-header-background {
    -fx-background-color: black;
    -fx-border-color: -color-accent;
    -fx-border-width: 0 0 1 0;
}

.root.matrix-theme .table-view .column-header .label {
    -fx-font-weight: normal;
}

.root.matrix-theme .table-row-cell {
    -fx-background-color: black;
    -fx-border-color: #003B00;
    -fx-border-width: 0 0 1 0;
}

.root.matrix-theme .table-row-cell:selected {
    -fx-background-color: #003B00;
    -fx-text-fill: white;
}

.table-view {
    -fx-background-color: transparent;
    -fx-base: -color-bg-base;
    /* Vital for headers in light mode */
    -fx-control-inner-background: -color-bg-base;
    -fx-background-insets: 0;
    -fx-padding: 0;
}

.table-view .column-header-background {
    -fx-background-color: -color-bg-card;
    -fx-background-radius: 4 4 0 0;
}

.table-view .column-header .label {
    -fx-text-fill: -color-text-secondary;
    -fx-font-weight: bold;
}

.table-row-cell {
    -fx-background-color: -color-bg-base;
    -fx-text-fill: -color-text-primary;
    -fx-border-color: transparent transparent -color-bg-card transparent;
}

.table-row-cell:odd {
    -fx-background-color: derive(-color-bg-base, 5%);
}

.table-row-cell:selected {
    -fx-background-color: derive(-color-bg-base, 15%);
}

/* --- LAYOUTS --- */
.card {
    -fx-background-color: -color-bg-card;
    -fx-background-radius: 8;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.1), 10, 0, 0, 5);
    -fx-padding: 20;
}

.sidebar {
    -fx-background-color: -color-bg-sidebar;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.1), 5, 0, 5, 0);
}

.sidebar .button {
    -fx-background-color: transparent;
    -fx-alignment: BASELINE_LEFT;
    -fx-font-size: 15px;
    -fx-text-fill: -color-text-secondary;
    -fx-effect: none;
}

.sidebar .button:hover {
    -fx-background-color: derive(-color-bg-sidebar, -10%);
    -fx-text-fill: -color-accent;
    -fx-padding: 8 16 8 20;
}

.theme-button {
    -fx-background-color: transparent;
    -fx-text-fill: -color-text-secondary;
    -fx-border-color: -color-text-muted;
    -fx-border-radius: 15;
    -fx-background-radius: 15;
    /* Fix for square hover */
    -fx-effect: none;
    -fx-cursor: hand;
}

.theme-button:hover {
    -fx-background-color: -color-bg-card;
    -fx-text-fill: -color-text-primary;
}

.icon-button {
    -fx-background-color: transparent;
    -fx-padding: 5;
    -fx-cursor: hand;
}

.icon-button:hover {
    -fx-background-color: rgba(255, 255, 255, 0.1);
    -fx-background-radius: 50%;
}

/* --- TEMA SYNTHWAVE: "Neon Nights" --- */
.root.synthwave-theme {
    -color-bg-base: #241235;
    /* Morado Profundo */
    -color-bg-card: #2D1B4E;
    -color-bg-sidebar: #1A0B2E;

    -color-text-primary: #00F3FF;
    /* Cyan Neon */
    -color-text-secondary: #FF00FF;
    /* Magenta Neon */
    -color-text-muted: #BFA2DB;

    -color-accent: #FF00FF;
    /* Magenta */
    -color-accent-dark: #D400D4;

    -color-success: #00FF9D;
    /* Verde Menta Fluor */
    -color-success-hover: #00D482;

    -color-danger: #FF2A6D;
    /* Rosa Rojizo */
    -color-danger-hover: #D41C54;

    -color-input-bg: #1A0B2E;
    -color-input-border: #FF00FF;

    -fx-font-family: 'Segoe UI', 'Roboto', sans-serif;
    -fx-font-size: 14px;
}

.root.synthwave-theme .button {
    -fx-background-radius: 4;
    -fx-border-color: -color-accent;
    -fx-border-width: 1;
    -fx-effect: dropshadow(three-pass-box, rgba(255, 0, 255, 0.4), 10, 0, 0, 0);
}

.root.synthwave-theme .text-field:focused {
    -fx-effect: dropshadow(three-pass-box, rgba(0, 243, 255, 0.6), 8, 0, 0, 0);
    -fx-border-color: -color-text-primary;
}


/* --- TEMA DRACULA: "Vampire Code" --- */
.root.dracula-theme {
    -color-bg-base: #282a36;
    /* Background */
    -color-bg-card: #44475a;
    /* Current Line/Selection */
    -color-bg-sidebar: #21222c;
    /* Mismatched darker bg */

    -color-text-primary: #f8f8f2;
    /* Foreground */
    -color-text-secondary: #bd93f9;
    /* Purple */
    -color-text-muted: #6272a4;
    /* Comment */

    -color-accent: #ff79c6;
    /* Pink */
    -color-accent-dark: #bd93f9;
    /* Purple */

    -color-success: #50fa7b;
    /* Green */
    -color-success-hover: #40c963;

    -color-danger: #ff5555;
    /* Red */
    -color-danger-hover: #ff3333;

    -color-input-bg: #282a36;
    -color-input-border: #6272a4;

    -fx-font-family: 'Consolas', 'Segoe UI', sans-serif;
}

.root.dracula-theme .button {
    -fx-background-radius: 4;
}


/* --- TEMA COFFEE: "Espresso Break" --- */
.root.coffee-theme {
    -color-bg-base: #F5E6D3;
    /* Crema suave */
    -color-bg-card: #FFF8F0;
    /* Leche manchada */
    -color-bg-sidebar: #E8D5B5;
    /* Latte */

    -color-text-primary: #4E342E;
    /* Café Expreso */
    -color-text-secondary: #795548;
    /* Café Americano */
    -color-text-muted: #A1887F;

    -color-accent: #D84315;
    /* Naranja Quemado (Canela) */
    -color-accent-dark: #BF360C;

    -color-success: #5D4037;
    /* Usamos tonos tierra para éxito también (estilo minimal) */
    -color-success-hover: #3E2723;

    -color-danger: #C62828;
    /* Rojo ladrillo */
    -color-danger-hover: #B71C1C;

    -color-input-bg: #FFFFFF;
    -color-input-border: #D7CCC8;

    -fx-font-family: 'Georgia', 'Times New Roman', serif;
    -fx-font-size: 15px;
}

.root.coffee-theme .button {
    -fx-background-radius: 2;
    -fx-effect: none;
    -fx-start-margin: 20;
}

.root.coffee-theme .card {
    -fx-effect: dropshadow(three-pass-box, rgba(78, 52, 46, 0.1), 3, 0, 1, 1);
}